# LuCI App Easy MWAN3 v1.0

> 让 MWAN3 配置像 1+1 一样简单。

## 简介
MWAN3 很强大，但它的配置逻辑（Interface -> Member -> Policy -> Rule）简直是反人类的。
本插件旨在提供一个**极简**的配置界面，你只需要告诉它“我要用哪些接口”和“我要什么模式”，剩下的脏活累活全交给后台脚本自动完成。

## ⚠️ 警告
**本插件是破坏性的！**
当你在界面上点击“保存并应用”时，它会**完全重写** `/etc/config/mwan3` 文件。
如果你之前有精心手写的 MWAN3 复杂规则，**请务必先备份**，或者不要使用本插件。

## 功能特性
- **傻瓜式模式选择**:
  - **负载均衡 (Balance)**: 多个宽带同时跑，支持自定义权重（Weight）。
  - **故障转移 (Failover)**: 主宽带断了切备用，支持自定义优先级（Metric）。
- **自动生成**: 自动创建 Interface, Member, Policy 和 Rule，无需人工干预。
- **HTTPS 粘滞**: 默认开启 HTTPS 粘滞模式，防止网银支付或游戏因 IP 变动而掉线。
- **配置回滚**: 每次生成前都会自动备份旧配置到 `/etc/config/mwan3.bak`。

## 安装方法
1. 将本目录放置于 OpenWrt SDK 的 `package/` 目录下。
2. 运行 `make menuconfig` 并选择 `LuCI -> Applications -> luci-app-easy-mwan3`。
3. 编译并安装。

## 目录结构
```text
luci-app-easy-mwan3/
├── Makefile                # 编译文件
├── root/
│   ├── etc/config/         # 默认配置
│   └── usr/bin/            # 核心生成脚本 (easy_mwan3_gen.sh)
└── luasrc/                 # Web 界面源码
```

---
*Generated by Antigravity*